{"is_source_file": true, "format": "JavaScript", "description": "This file provides a module for fetching and processing stock market data from the Alpha Vantage API. It includes functions to get the current stock price, historical data, error handling, and logging for market data calls. It also defines a custom error class for handling specific validation errors related to live market data.", "external_files": ["fetch", "console"], "external_methods": ["fetch", "console.info"], "published": ["fetchCurrentPriceAlphaVantage", "fetchDailyHistoryAlphaVantage"], "classes": [{"name": "LiveDataError", "description": "Custom error class for indicating missing or invalid live market data."}], "methods": [{"name": "nowIso()", "description": "Returns the current date and time in ISO string format.", "scope": "", "scopeKind": ""}, {"name": "isFiniteNumber(n)", "description": "Checks if a value is a finite number.", "scope": "", "scopeKind": ""}, {"name": "requireEnv(name)", "description": "Retrieves environment variable value or throws an error if unset.", "scope": "", "scopeKind": ""}, {"name": "logLiveCall({ operation, symbol, url })", "description": "Logs details of a market data API call with timestamp, source, operation, symbol, and URL.", "scope": "", "scopeKind": ""}, {"name": "parseAlphaVantageErrorPayload(json)", "description": "Parses error messages from Alpha Vantage JSON responses.", "scope": "", "scopeKind": ""}, {"name": "fetchJsonStrict(url, { operation, symbol })", "description": "Fetches JSON data from a URL with comprehensive error handling.", "scope": "", "scopeKind": ""}, {"name": "toMoneyNumberStrict(value, { fieldName, operation, symbol })", "description": "Converts a value to a number and throws an error if invalid.", "scope": "", "scopeKind": ""}, {"name": "extractLatestDailyAdjustedCloseStrict(json, { operation, symbol })", "description": "Extracts the latest close price and date from the daily adjusted time series.", "scope": "", "scopeKind": ""}, {"name": "extractDailyHistoryStrict(json, { operation, symbol, limit })", "description": "Extracts a list of historical close prices limited to a specified number of days.", "scope": "", "scopeKind": ""}, {"name": "fetchCurrentPriceAlphaVantage(symbol)", "description": "Public function to fetch the most recent stock price for a given symbol.", "scope": "", "scopeKind": ""}, {"name": "fetchDailyHistoryAlphaVantage(symbol, limit = 260)", "description": "Public function to fetch historical daily close prices for a given symbol.", "scope": "", "scopeKind": ""}, {"name": "constructor(message, meta = {})", "scope": "LiveDataError", "scopeKind": "class", "description": "unavailable"}], "calls": ["logLiveCall", "fetch", "requireEnv", "console.info", "parseAlphaVantageErrorPayload", "res.json", "toMoneyNumberStrict", "extractLatestDailyAdjustedCloseStrict", "extractDailyHistoryStrict"], "search-terms": ["Alpha Vantage", "fetchCurrentPriceAlphaVantage", "fetchDailyHistoryAlphaVantage", "TIME_SERIES_DAILY_ADJUSTED", "LIVE_VANTAGE_API_KEY", "alphaVantage", "market data fetch"], "state": 2, "file_id": 14, "knowledge_revision": 34, "git_revision": "07b9b2256a44b6c70564865e1c2d130e9f79515a", "ctags": [{"_type": "tag", "name": "ALPHA_VANTAGE_BASE_URL", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^const ALPHA_VANTAGE_BASE_URL = \"https:\\/\\/www.alphavantage.co\\/query\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LiveDataError", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export class LiveDataError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^  constructor(message, meta = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, meta = {})", "scope": "LiveDataError", "scopeKind": "class"}, {"_type": "tag", "name": "extractDailyHistoryStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function extractDailyHistoryStrict(json, { operation, symbol, limit }) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, { operation, symbol, limit })"}, {"_type": "tag", "name": "extractLatestDailyAdjustedCloseStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function extractLatestDailyAdjustedCloseStrict(json, { operation, symbol }) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, { operation, symbol })"}, {"_type": "tag", "name": "fetchCurrentPriceAlphaVantage", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export async function fetchCurrentPriceAlphaVantage(symbol) {$/", "language": "JavaScript", "kind": "function", "signature": "(symbol)"}, {"_type": "tag", "name": "fetchDailyHistoryAlphaVantage", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export async function fetchDailyHistoryAlphaVantage(symbol, limit = 260) {$/", "language": "JavaScript", "kind": "function", "signature": "(symbol, limit = 260)"}, {"_type": "tag", "name": "fetchJsonStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^async function fetchJsonStrict(url, { operation, symbol }) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, { operation, symbol })"}, {"_type": "tag", "name": "isFiniteNumber", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function isFiniteNumber(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "logLiveCall", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function logLiveCall({ operation, symbol, url }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ operation, symbol, url })"}, {"_type": "tag", "name": "nowIso", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function nowIso() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parseAlphaVantageErrorPayload", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function parseAlphaVantageErrorPayload(json) {$/", "language": "JavaScript", "kind": "function", "signature": "(json)"}, {"_type": "tag", "name": "requireEnv", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function requireEnv(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "toMoneyNumberStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function toMoneyNumberStrict(value, { fieldName, operation, symbol }) {$/", "language": "JavaScript", "kind": "function", "signature": "(value, { fieldName, operation, symbol })"}], "hash": "340dc368660244037fdd23efec944f49", "format-version": 4, "code-base-name": "frontend_react_js", "filename": "frontend_react_js/src/marketData/alphaVantage.js", "revision_history": [{"34": "07b9b2256a44b6c70564865e1c2d130e9f79515a"}]}