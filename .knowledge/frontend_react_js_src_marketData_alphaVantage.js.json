{"is_source_file": true, "format": "JavaScript", "description": "This file provides functions and classes to fetch and process market data from Alpha Vantage API, including error handling, fetching current prices, and historical data retrieval.", "external_files": ["node-fetch (via fetch API)", "Error class (built-in Error)", "process.env"], "external_methods": ["fetch", "console.info", "String.prototype.toISOString", "Number.isFinite"], "published": ["hasAlphaVantageApiKey", "fetchCurrentPriceAlphaVantage", "fetchDailyHistoryAlphaVantage", "LiveDataError"], "classes": [{"name": "LiveDataError", "description": "Custom error class indicating issues with live market data,"}], "methods": [{"name": "nowIso()", "description": "Returns current date-time in ISO string format.", "scope": "", "scopeKind": ""}, {"name": "isFiniteNumber(n)", "description": "Checks if a value is a finite number.", "scope": "", "scopeKind": ""}, {"name": "getEnv(name)", "description": "Fetches the environment variable by name.", "scope": "", "scopeKind": ""}, {"name": "hasAlphaVantageApiKey()", "description": "Determines if an Alpha Vantage API key is configured, indicating LIVE mode availability.", "scope": "", "scopeKind": ""}, {"name": "requireEnv(name)", "description": "Retrieves an environment variable, throws error if missing.", "scope": "", "scopeKind": ""}, {"name": "logLiveCall({ operation, symbol, url })", "description": "Logs details of a market data API call including timestamp and source.", "scope": "", "scopeKind": ""}, {"name": "parseAlphaVantageErrorPayload(json)", "description": "Parses error message from Alpha Vantage JSON response payload.", "scope": "", "scopeKind": ""}, {"name": "fetchJsonStrict(url, { operation, symbol })", "description": "Performs a fetch request with strict error handling, returning parsed JSON.", "scope": "", "scopeKind": ""}, {"name": "toMoneyNumberStrict(value, { fieldName, operation, symbol })", "description": "Converts a value to a valid number, throws error if invalid.", "scope": "", "scopeKind": ""}, {"name": "extractLatestDailyAdjustedCloseStrict(json, { operation, symbol })", "description": "Extracts the latest daily adjusted close price and date from JSON data.", "scope": "", "scopeKind": ""}, {"name": "extractDailyHistoryStrict(json, { operation, symbol, limit })", "description": "Extracts a list of recent daily close prices up to a limit.", "scope": "", "scopeKind": ""}, {"name": "fetchCurrentPriceAlphaVantage(symbol)", "description": "Fetches the most recent daily adjusted close price for a stock symbol.", "scope": "", "scopeKind": ""}, {"name": "fetchDailyHistoryAlphaVantage(symbol, limit = 260)", "description": "Fetches historical daily close prices for a stock symbol, up to a specified limit.", "scope": "", "scopeKind": ""}, {"name": "constructor(message, meta = {})", "scope": "LiveDataError", "scopeKind": "class", "description": "unavailable"}], "calls": ["fetch", "console.info", "nowIso", "getEnv", "requireEnv", "logLiveCall", "parseAlphaVantageErrorPayload", "fetchJsonStrict", "toMoneyNumberStrict", "extractLatestDailyAdjustedCloseStrict", "extractDailyHistoryStrict"], "search-terms": ["Alpha Vantage API", "market data fetch", "live data error", "stock price", "daily adjusted close", "fetch current price", "historical data", "Alpha Vantage URL", "fetchJsonStrict", "REACT_APP_ALPHA_VANTAGE_API_KEY"], "state": 2, "file_id": 14, "knowledge_revision": 35, "git_revision": "07b9b2256a44b6c70564865e1c2d130e9f79515a", "revision_history": [{"34": "07b9b2256a44b6c70564865e1c2d130e9f79515a"}, {"35": "07b9b2256a44b6c70564865e1c2d130e9f79515a"}], "ctags": [{"_type": "tag", "name": "ALPHA_VANTAGE_BASE_URL", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^const ALPHA_VANTAGE_BASE_URL = \"https:\\/\\/www.alphavantage.co\\/query\";$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "LiveDataError", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export class LiveDataError extends Error {$/", "language": "JavaScript", "kind": "class"}, {"_type": "tag", "name": "constructor", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^  constructor(message, meta = {}) {$/", "language": "JavaScript", "kind": "method", "signature": "(message, meta = {})", "scope": "LiveDataError", "scopeKind": "class"}, {"_type": "tag", "name": "extractDailyHistoryStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function extractDailyHistoryStrict(json, { operation, symbol, limit }) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, { operation, symbol, limit })"}, {"_type": "tag", "name": "extractLatestDailyAdjustedCloseStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function extractLatestDailyAdjustedCloseStrict(json, { operation, symbol }) {$/", "language": "JavaScript", "kind": "function", "signature": "(json, { operation, symbol })"}, {"_type": "tag", "name": "fetchCurrentPriceAlphaVantage", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export async function fetchCurrentPriceAlphaVantage(symbol) {$/", "language": "JavaScript", "kind": "function", "signature": "(symbol)"}, {"_type": "tag", "name": "fetchDailyHistoryAlphaVantage", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export async function fetchDailyHistoryAlphaVantage(symbol, limit = 260) {$/", "language": "JavaScript", "kind": "function", "signature": "(symbol, limit = 260)"}, {"_type": "tag", "name": "fetchJsonStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^async function fetchJsonStrict(url, { operation, symbol }) {$/", "language": "JavaScript", "kind": "function", "signature": "(url, { operation, symbol })"}, {"_type": "tag", "name": "getEnv", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function getEnv(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "hasAlphaVantageApiKey", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^export function hasAlphaVantageApiKey() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "isFiniteNumber", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function isFiniteNumber(n) {$/", "language": "JavaScript", "kind": "function", "signature": "(n)"}, {"_type": "tag", "name": "logLiveCall", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function logLiveCall({ operation, symbol, url }) {$/", "language": "JavaScript", "kind": "function", "signature": "({ operation, symbol, url })"}, {"_type": "tag", "name": "nowIso", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function nowIso() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "parseAlphaVantageErrorPayload", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function parseAlphaVantageErrorPayload(json) {$/", "language": "JavaScript", "kind": "function", "signature": "(json)"}, {"_type": "tag", "name": "requireEnv", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function requireEnv(name) {$/", "language": "JavaScript", "kind": "function", "signature": "(name)"}, {"_type": "tag", "name": "toMoneyNumberStrict", "path": "/home/kavia/workspace/code-generation/stock-market-insights-platform-239616-239628/frontend_react_js/src/marketData/alphaVantage.js", "pattern": "/^function toMoneyNumberStrict(value, { fieldName, operation, symbol }) {$/", "language": "JavaScript", "kind": "function", "signature": "(value, { fieldName, operation, symbol })"}], "hash": "e8608f140e3971c4cfc8b2cd04a164ce", "format-version": 4, "code-base-name": "frontend_react_js", "filename": "frontend_react_js/src/marketData/alphaVantage.js"}